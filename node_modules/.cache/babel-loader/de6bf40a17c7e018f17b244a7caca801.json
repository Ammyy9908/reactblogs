{"ast":null,"code":"import React from\"react\";import{Link}from\"react-router-dom\";import axios from\"axios\";var CreatePost=function CreatePost(props){if(localStorage.getItem('userData')){var addPost=function addPost(e){e.preventDefault();var form=e.target;var title=form.title.value;var description=form.description.value;var tags=form.tags.value;if(title.length===0&&description.length===0&&tags.length===0){alert('Make sure to add title and description!');}else{var data={title:title,description:description,tags:tags};axios.post(\"https://desolate-reaches-85560.herokuapp.com/new/uid/\".concat(JSON.parse(localStorage.getItem('userData'))['uid']),data).then(function(response){if(response.status===200){props.history.push(\"/\");}}).catch(function(error){console.log(error);});}};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8 col-md-offset-2\",style:{\"maxWidth\":\"950px\",\"margin\":\"auto\",\"minHeight\":\"400px\"}},/*#__PURE__*/React.createElement(\"h1\",{className:\"display-1\"},\"Create post\"),/*#__PURE__*/React.createElement(\"form\",{method:\"POST\",onSubmit:addPost},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Title \",/*#__PURE__*/React.createElement(\"span\",{className:\"require\"},\"*\")),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"title\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Description \",/*#__PURE__*/React.createElement(\"span\",{className:\"require\"},\"*\")),/*#__PURE__*/React.createElement(\"textarea\",{rows:\"5\",className:\"form-control\",name:\"description\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Tags \",/*#__PURE__*/React.createElement(\"span\",{className:\"require\"},\"*\")),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"tags\",placeholder:\"Add appropriate tags\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-dark\"},\"Create\"),/*#__PURE__*/React.createElement(Link,{className:\"btn btn-default\",to:\"/profile\"},\"Cancel\")))))));}else{return window.location=\"/login\";}};export default CreatePost;","map":{"version":3,"sources":["/Users/sumitkumar/Desktop/React/blog/client/src/components/AddPost.jsx"],"names":["React","Link","axios","CreatePost","props","localStorage","getItem","addPost","e","preventDefault","form","target","title","value","description","tags","length","alert","data","post","JSON","parse","then","response","status","history","push","catch","error","console","log","window","location"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {Link} from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst CreatePost = (props)=>{\n    if(localStorage.getItem('userData'))\n    {\n\n        function addPost(e){\n            e.preventDefault();\n            const form = e.target;\n            const title = form.title.value;\n            const description = form.description.value;\n            const tags = form.tags.value;\n            if(title.length===0 && description.length===0 && tags.length===0)\n            {\n                alert('Make sure to add title and description!')\n            }else{\n                const data = {title: title, description: description,tags:tags};\n                axios.post(`https://desolate-reaches-85560.herokuapp.com/new/uid/${JSON.parse(localStorage.getItem('userData'))['uid']}`, data).then((response)=>{\n\n                    if(response.status===200){\n                            props.history.push(\"/\");\n                    }\n                }).catch((error)=>{\n                    console.log(error);\n                });\n            }\n        }\n\n  \n    return(<div>\n        <div className=\"container-fluid mt-5\">\n\t<div className=\"row\">\n\t    \n\t    <div className=\"col-md-8 col-md-offset-2\" style={{\"maxWidth\":\"950px\",\"margin\":\"auto\",\"minHeight\":\"400px\"}}>\n\t        \n    \t\t<h1 className=\"display-1\">Create post</h1>\n    \t\t\n    \t\t<form method=\"POST\" onSubmit={addPost}>\n    \t\t    \n    \t\t    <div className=\"form-group\">\n    \t\t        <label>Title <span className=\"require\">*</span></label>\n    \t\t        <input type=\"text\" className=\"form-control\" name=\"title\" />\n    \t\t    </div>\n    \t\t    \n    \t\t    <div className=\"form-group\">\n    \t\t        <label>Description <span className=\"require\">*</span></label>\n    \t\t        <textarea rows=\"5\" className=\"form-control\" name=\"description\" ></textarea>\n    \t\t    </div>\n\n                <div className=\"form-group\">\n    \t\t        <label>Tags <span className=\"require\">*</span></label>\n    \t\t        <input type=\"text\" className=\"form-control\" name=\"tags\" placeholder=\"Add appropriate tags\" />\n    \t\t    </div>\n    \t\t    \n    \t\t    <div className=\"form-group\">\n    \t\t        <button type=\"submit\" className=\"btn btn-dark\">\n    \t\t            Create\n    \t\t        </button>\n    \t\t        <Link className=\"btn btn-default\" to=\"/profile\">\n    \t\t            Cancel\n    \t\t        </Link>\n    \t\t    </div>\n    \t\t    \n    \t\t</form>\n\t\t</div>\n\t\t\n\t</div>\n</div>\n    </div>);\n}\nelse{\n    return (\n        \n        window.location = \"/login\"\n        \n      );\n      \n}\n}\n\n\n\nexport default CreatePost;"]},"metadata":{},"sourceType":"module"}