{"ast":null,"code":"var _jsxFileName = \"/Users/sumitkumar/Desktop/React/blog/client/src/components/Signup.jsx\";\n// eslint-disable-next-line\nimport React from \"react\";\nimport { Form, Button, Container, Row, Col } from \"react-bootstrap\";\nimport { Redirect } from \"react-router-dom\";\n\nconst bcrypt = require('bcryptjs');\n\nconst axios = require('axios');\n\nexport default class SignUp extends React.Component {\n  render() {\n    if (localStorage.getItem('userData')) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: \"/\",\n          state: {\n            from: this.props.location\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14,\n          columnNumber: 15\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        style: {\n          margin: \"150px 0\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        className: \"col-lg-6\",\n        style: {\n          \"maxWidth\": \"950px\",\n          \"margin\": \"auto\",\n          \"minHeight\": \"400px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"display-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 15\n        }\n      }, \"Signup\"), /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Form.Group, {\n        controlId: \"formFname\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 19\n        }\n      }, \"Full Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"text\",\n        placeholder: \"Full Name\",\n        autoComplete: \"false\",\n        name: \"first_name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(Form.Group, {\n        controlId: \"formBasicEmail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 19\n        }\n      }, \"Email address\"), /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"email\",\n        placeholder: \"Enter email\",\n        name: \"email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(Form.Group, {\n        controlId: \"formBasicPassword\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 19\n        }\n      }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"password\",\n        placeholder: \"Password\",\n        name: \"password1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(Form.Group, {\n        controlId: \"formBasicPassword2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 19\n        }\n      }, \"Confirm Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"password\",\n        placeholder: \"Confirm Password\",\n        name: \"password2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        variant: \"dark\",\n        onClick: e => {\n          const form = e.target.parentElement;\n          const name = form.first_name.value;\n          const email = form.email.value;\n          const password1 = form.password1.value;\n          const password2 = form.password2.value; // eslint-disable-next-line\n\n          const reg = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n\n          if (!name || !email || !password1 || !password2) {\n            console.log('All Fields Required');\n          } else {\n            //Validate email using regex\n            if (reg.test(email)) {\n              //check if password 1 is matched with password2\n              if (password1 !== password2) {\n                console.log('make sure two Password Matched!');\n              } else {\n                console.log('All correct! now proceed'); // hash the plain text password to hashed password before saving to db\n\n                const saltRounds = 10;\n                bcrypt.genSalt(saltRounds, function (err, salt) {\n                  bcrypt.hash(password1, bcrypt.genSaltSync(10), function (err, hash) {\n                    // Store hash in your password DB.\n                    const User = {\n                      name: name,\n                      email: email,\n                      password: hash\n                    };\n                    axios.post('https://desolate-reaches-85560.herokuapp.com/register', User).then(res => {\n                      if (res.data) {\n                        window.location = \"/login\";\n                      } else {\n                        alert(\"Something Wrong With Server!\");\n                      }\n                    }).catch(error => {\n                      console.log(error);\n                    });\n                  });\n                });\n              }\n            } else {\n              console.log('Bad email');\n            }\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }\n      }, \"Register\"))))));\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/sumitkumar/Desktop/React/blog/client/src/components/Signup.jsx"],"names":["React","Form","Button","Container","Row","Col","Redirect","bcrypt","require","axios","SignUp","Component","render","localStorage","getItem","pathname","state","from","props","location","margin","e","form","target","parentElement","name","first_name","value","email","password1","password2","reg","console","log","test","saltRounds","genSalt","err","salt","hash","genSaltSync","User","password","post","then","res","data","window","alert","catch","error"],"mappings":"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","sourcesContent":["// eslint-disable-next-line\nimport React from \"react\";\nimport { Form, Button, Container, Row, Col } from \"react-bootstrap\";\nimport {Redirect} from \"react-router-dom\";\nconst bcrypt = require('bcryptjs');\nconst axios = require('axios');\n\n\n\nexport default class SignUp extends React.Component {\n  render() {\n    if(localStorage.getItem('userData'))\n    {\n      return (<Redirect\n        to={{\n          pathname: \"/\",\n          state: {\n            from: this.props.location\n          }\n        }}\n      />)\n    }\n    else{\n    return (\n      <div>\n        <Container>\n          <Row style={{ margin: \"150px 0\" }}>\n            <Col className=\"col-lg-6\" style={{\"maxWidth\":\"950px\",\"margin\":\"auto\",\"minHeight\":\"400px\"}}>\n              <h1 className=\"display-2\">Signup</h1>\n              <Form>\n                <Form.Group controlId=\"formFname\">\n                  <Form.Label>Full Name</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"Full Name\"\n                    autoComplete=\"false\"\n                    name=\"first_name\"\n                  />\n                </Form.Group>\n\n                <Form.Group controlId=\"formBasicEmail\">\n                  <Form.Label>Email address</Form.Label>\n                  <Form.Control \n                  type=\"email\" \n                  placeholder=\"Enter email\"\n                  name=\"email\"\n                   />\n                </Form.Group>\n\n                <Form.Group controlId=\"formBasicPassword\">\n                  <Form.Label>Password</Form.Label>\n                  <Form.Control \n                  type=\"password\"\n                    placeholder=\"Password\"\n                    name=\"password1\"\n                     />\n                </Form.Group>\n\n                <Form.Group controlId=\"formBasicPassword2\">\n                  <Form.Label>Confirm Password</Form.Label>\n                  <Form.Control\n                    type=\"password\"\n                    placeholder=\"Confirm Password\"\n                    name=\"password2\"\n                  />\n                </Form.Group>\n                <Button variant=\"dark\" onClick={(e)=>{\n                    const form = e.target.parentElement;\n                    const name = form.first_name.value;\n                    const email = form.email.value;\n                    const password1 = form.password1.value;\n                    const password2 = form.password2.value;\n                    // eslint-disable-next-line\n                    const reg = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n                    if(!name || !email || !password1 || !password2)\n                    {\n                        console.log('All Fields Required');\n                    }\n                    else{\n                        //Validate email using regex\n                        if(reg.test(email)){\n                            //check if password 1 is matched with password2\n                            if(password1!==password2){\n                                console.log('make sure two Password Matched!');\n                            }\n                            else{\n                                console.log('All correct! now proceed');\n                                // hash the plain text password to hashed password before saving to db\n                                const saltRounds = 10;\n                                bcrypt.genSalt(saltRounds, function(err, salt) {\n                                  bcrypt.hash(password1, bcrypt.genSaltSync(10), function(err, hash) {\n                                        // Store hash in your password DB.\n                                        const User = {\n                                          name:name,\n                                          email:email,\n                                          password:hash,\n                                        }\n                                        axios.post('https://desolate-reaches-85560.herokuapp.com/register', User)\n                                      .then((res) => {\n                                        if(res.data){\n                                          window.location = \"/login\";\n                          \n                                        }\n                                        else{\n                                          alert(\"Something Wrong With Server!\");\n                                        }\n                                          }).catch((error) => {\n                                          console.log(error);\n                                           });\n                                    });\n                                });\n                                \n                            }\n                        }\n                        else{\n                            console.log('Bad email');\n                        }\n                    }\n                }}>\n                  Register\n                </Button>\n              </Form>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n              }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}