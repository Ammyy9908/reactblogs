{"ast":null,"code":"import _classCallCheck from\"/Users/sumitkumar/Desktop/React/blog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sumitkumar/Desktop/React/blog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/sumitkumar/Desktop/React/blog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/sumitkumar/Desktop/React/blog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Form,Button,Container,Row,Col}from\"react-bootstrap\";import{Link,Redirect}from\"react-router-dom\";var axios=require('axios');var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(){_classCallCheck(this,Login);return _super.apply(this,arguments);}_createClass(Login,[{key:\"render\",value:function render(){if(localStorage.getItem('userData')){return/*#__PURE__*/React.createElement(Redirect,{to:{pathname:\"/reactblog/\",state:{from:this.props.location}}});}else{return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,{style:{margin:\"150px 0\"}},/*#__PURE__*/React.createElement(Col,{className:\"col-lg-6\",style:{\"maxWidth\":\"950px\",\"margin\":\"auto\",\"minHeight\":\"400px\"}},/*#__PURE__*/React.createElement(\"h1\",{className:\"display-3\"},\"Login\"),/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicEmail\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Email address\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"email\",placeholder:\"Enter email\",name:\"email\"})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicPassword\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Password\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"password\",placeholder:\"Password\",name:\"password\"})),/*#__PURE__*/React.createElement(Button,{variant:\"dark\",className:\"btn-md\",onClick:function onClick(e){var form=e.target.parentElement;var email=form.email.value;var password=form.password.value;//check for empty fields\nif(!email||!password){alert('Empty Fields!');}else{// Hash the Password\nvar User={email:email,password:password};axios.post('https://desolate-reaches-85560.herokuapp.com/login',User).then(function(res){if(res.data.success){var userData=res.data.data.userData;console.log(userData);if(userData.isVerified){console.log('User All Checkpoint Completed!');localStorage.setItem('userData',JSON.stringify(userData));window.location=\"/reactblog/\";}else{console.log('User Email is Not Verified');}}else{alert('Login Failed!');}}).catch(function(error){console.log(error);});}}},\"Login\"),/*#__PURE__*/React.createElement(Link,{to:\"/register\",variant:\"dark\",type:\"submit\",className:\"btn btn-md btn-dark ml-2\"},\"Register\"))))));}}}]);return Login;}(React.Component);export{Login as default};","map":{"version":3,"sources":["/Users/sumitkumar/Desktop/React/blog/client/src/components/Login.jsx"],"names":["React","Form","Button","Container","Row","Col","Link","Redirect","axios","require","Login","localStorage","getItem","pathname","state","from","props","location","margin","e","form","target","parentElement","email","value","password","alert","User","post","then","res","data","success","userData","console","log","isVerified","setItem","JSON","stringify","window","catch","error","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Form, Button, Container, Row, Col } from \"react-bootstrap\";\nimport {Link,Redirect} from \"react-router-dom\";\nconst axios = require('axios');\n\n\nexport default class Login extends React.Component {\n\n    \n  render() {\n    if(localStorage.getItem('userData'))\n    {\n      return (<Redirect\n        to={{\n          pathname: \"/reactblog/\",\n          state: {\n            from: this.props.location\n          }\n        }}\n      />)\n    }\n    else{\n\n    \n    return (\n\n      <div>\n        <Container>\n          <Row style={{ margin: \"150px 0\" }}>\n            <Col className=\"col-lg-6\" style={{\"maxWidth\":\"950px\",\"margin\":\"auto\",\"minHeight\":\"400px\"}}>\n              <h1 className=\"display-3\">Login</h1>\n              <Form>\n                <Form.Group controlId=\"formBasicEmail\">\n                  <Form.Label>Email address</Form.Label>\n                  <Form.Control type=\"email\" placeholder=\"Enter email\" name=\"email\" />\n                </Form.Group>\n\n                <Form.Group controlId=\"formBasicPassword\">\n                  <Form.Label>Password</Form.Label>\n                  <Form.Control type=\"password\" placeholder=\"Password\" name=\"password\"/>\n                </Form.Group>\n                <Button variant=\"dark\" className=\"btn-md\" onClick={(e)=>{\n                   const form = e.target.parentElement;\n                   const email = form.email.value;\n                   const password = form.password.value;\n                   //check for empty fields\n                   if(!email||!password)\n                   {\n                     alert('Empty Fields!');\n                   }\n                   else{\n                     // Hash the Password\n                     const User = {\n                      email:email,\n                      password:password,\n                    }\n                     axios.post('https://desolate-reaches-85560.herokuapp.com/login', User)\n                        .then((res) => {\n                         if(res.data.success){\n                          const userData=res.data.data.userData;\n                          console.log(userData);\n                          if(userData.isVerified){\n                            console.log('User All Checkpoint Completed!');\n                            localStorage.setItem('userData', JSON.stringify(userData));\n                            window.location = \"/reactblog/\";\n                          }\n                          else{\n                            console.log('User Email is Not Verified');\n                          }\n                        }\n                        else{\n                          alert('Login Failed!');\n                        }\n                            }).catch((error) => {\n                            console.log(error);\n                             });\n                   }\n                }}>\n                  Login\n                </Button>\n                <Link to=\"/register\" variant=\"dark\" type=\"submit\" className=\"btn btn-md btn-dark ml-2\">\n                  Register\n                </Link>\n              </Form>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n  }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}