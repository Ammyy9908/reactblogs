{"ast":null,"code":"import _classCallCheck from\"/Users/sumitkumar/Desktop/React/blog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sumitkumar/Desktop/React/blog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/sumitkumar/Desktop/React/blog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/sumitkumar/Desktop/React/blog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";// eslint-disable-next-line\nimport React from\"react\";import{Form,Button,Container,Row,Col}from\"react-bootstrap\";import{Redirect}from\"react-router-dom\";var bcrypt=require('bcryptjs');var axios=require('axios');var SignUp=/*#__PURE__*/function(_React$Component){_inherits(SignUp,_React$Component);var _super=_createSuper(SignUp);function SignUp(){_classCallCheck(this,SignUp);return _super.apply(this,arguments);}_createClass(SignUp,[{key:\"render\",value:function render(){if(localStorage.getItem('userData')){return/*#__PURE__*/React.createElement(Redirect,{to:{pathname:\"/\",state:{from:this.props.location}}});}else{return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,{style:{margin:\"150px 0\"}},/*#__PURE__*/React.createElement(Col,{className:\"col-lg-6\",style:{\"maxWidth\":\"950px\",\"margin\":\"auto\",\"minHeight\":\"400px\"}},/*#__PURE__*/React.createElement(\"h1\",{className:\"display-2\"},\"Signup\"),/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formFname\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Full Name\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Full Name\",autoComplete:\"false\",name:\"first_name\"})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicEmail\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Email address\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"email\",placeholder:\"Enter email\",name:\"email\"})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicPassword\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Password\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"password\",placeholder:\"Password\",name:\"password1\"})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicPassword2\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Confirm Password\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"password\",placeholder:\"Confirm Password\",name:\"password2\"})),/*#__PURE__*/React.createElement(Button,{variant:\"dark\",onClick:function onClick(e){var form=e.target.parentElement;var name=form.first_name.value;var email=form.email.value;var password1=form.password1.value;var password2=form.password2.value;// eslint-disable-next-line\nvar reg=/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;if(!name||!email||!password1||!password2){console.log('All Fields Required');}else{//Validate email using regex\nif(reg.test(email)){//check if password 1 is matched with password2\nif(password1!==password2){console.log('make sure two Password Matched!');}else{console.log('All correct! now proceed');// hash the plain text password to hashed password before saving to db\nvar saltRounds=10;bcrypt.genSalt(saltRounds,function(err,salt){bcrypt.hash(password1,bcrypt.genSaltSync(10),function(err,hash){// Store hash in your password DB.\nvar User={name:name,email:email,password:hash};axios.post('https://desolate-reaches-85560.herokuapp.com/register',User).then(function(res){if(res.data){window.location=\"/reactblog/login\";}else{alert(\"Something Wrong With Server!\");}}).catch(function(error){console.log(error);});});});}}else{console.log('Bad email');}}}},\"Register\"))))));}}}]);return SignUp;}(React.Component);export{SignUp as default};","map":{"version":3,"sources":["/Users/sumitkumar/Desktop/React/blog/client/src/components/Signup.jsx"],"names":["React","Form","Button","Container","Row","Col","Redirect","bcrypt","require","axios","SignUp","localStorage","getItem","pathname","state","from","props","location","margin","e","form","target","parentElement","name","first_name","value","email","password1","password2","reg","console","log","test","saltRounds","genSalt","err","salt","hash","genSaltSync","User","password","post","then","res","data","window","alert","catch","error","Component"],"mappings":"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","sourcesContent":["// eslint-disable-next-line\nimport React from \"react\";\nimport { Form, Button, Container, Row, Col } from \"react-bootstrap\";\nimport {Redirect} from \"react-router-dom\";\nconst bcrypt = require('bcryptjs');\nconst axios = require('axios');\n\n\n\nexport default class SignUp extends React.Component {\n  render() {\n    if(localStorage.getItem('userData'))\n    {\n      return (<Redirect\n        to={{\n          pathname: \"/\",\n          state: {\n            from: this.props.location\n          }\n        }}\n      />)\n    }\n    else{\n    return (\n      <div>\n        <Container>\n          <Row style={{ margin: \"150px 0\" }}>\n            <Col className=\"col-lg-6\" style={{\"maxWidth\":\"950px\",\"margin\":\"auto\",\"minHeight\":\"400px\"}}>\n              <h1 className=\"display-2\">Signup</h1>\n              <Form>\n                <Form.Group controlId=\"formFname\">\n                  <Form.Label>Full Name</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"Full Name\"\n                    autoComplete=\"false\"\n                    name=\"first_name\"\n                  />\n                </Form.Group>\n\n                <Form.Group controlId=\"formBasicEmail\">\n                  <Form.Label>Email address</Form.Label>\n                  <Form.Control \n                  type=\"email\" \n                  placeholder=\"Enter email\"\n                  name=\"email\"\n                   />\n                </Form.Group>\n\n                <Form.Group controlId=\"formBasicPassword\">\n                  <Form.Label>Password</Form.Label>\n                  <Form.Control \n                  type=\"password\"\n                    placeholder=\"Password\"\n                    name=\"password1\"\n                     />\n                </Form.Group>\n\n                <Form.Group controlId=\"formBasicPassword2\">\n                  <Form.Label>Confirm Password</Form.Label>\n                  <Form.Control\n                    type=\"password\"\n                    placeholder=\"Confirm Password\"\n                    name=\"password2\"\n                  />\n                </Form.Group>\n                <Button variant=\"dark\" onClick={(e)=>{\n                    const form = e.target.parentElement;\n                    const name = form.first_name.value;\n                    const email = form.email.value;\n                    const password1 = form.password1.value;\n                    const password2 = form.password2.value;\n                    // eslint-disable-next-line\n                    const reg = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n                    if(!name || !email || !password1 || !password2)\n                    {\n                        console.log('All Fields Required');\n                    }\n                    else{\n                        //Validate email using regex\n                        if(reg.test(email)){\n                            //check if password 1 is matched with password2\n                            if(password1!==password2){\n                                console.log('make sure two Password Matched!');\n                            }\n                            else{\n                                console.log('All correct! now proceed');\n                                // hash the plain text password to hashed password before saving to db\n                                const saltRounds = 10;\n                                bcrypt.genSalt(saltRounds, function(err, salt) {\n                                  bcrypt.hash(password1, bcrypt.genSaltSync(10), function(err, hash) {\n                                        // Store hash in your password DB.\n                                        const User = {\n                                          name:name,\n                                          email:email,\n                                          password:hash,\n                                        }\n                                        axios.post('https://desolate-reaches-85560.herokuapp.com/register', User)\n                                      .then((res) => {\n                                        if(res.data){\n                                          window.location = \"/reactblog/login\";\n                          \n                                        }\n                                        else{\n                                          alert(\"Something Wrong With Server!\");\n                                        }\n                                          }).catch((error) => {\n                                          console.log(error);\n                                           });\n                                    });\n                                });\n                                \n                            }\n                        }\n                        else{\n                            console.log('Bad email');\n                        }\n                    }\n                }}>\n                  Register\n                </Button>\n              </Form>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n              }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}